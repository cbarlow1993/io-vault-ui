# io-vault Multi-Chain Backend - Environment Variables
# Copy this file to .env and fill in the values

# =============================================================================
# Server Configuration
# =============================================================================
STAGE=dev
PORT=3000
HOST=0.0.0.0

# =============================================================================
# PostgreSQL Database Configuration
# =============================================================================
# Use 'disable' for local docker, 'require' for production
PGSSLMODE=disable

DB_POSTGRES_HOST=localhost
DB_POSTGRES_PORT=5432
DB_POSTGRES_NAME=io_vault
DB_POSTGRES_USER=postgres
DB_POSTGRES_PASSWORD=localdev
DB_POSTGRES_USE_IAM_AUTH=false
DB_POSTGRES_POOL_MIN=2
DB_POSTGRES_POOL_MAX=10

# =============================================================================
# Vault PostgreSQL Database Configuration (external vault database)
# =============================================================================
DB_VAULT_POSTGRES_HOST=localhost
DB_VAULT_POSTGRES_PORT=5432
DB_VAULT_POSTGRES_NAME=io_vault_main
DB_VAULT_POSTGRES_USER=postgres
DB_VAULT_POSTGRES_PASSWORD=localdev
DB_VAULT_POSTGRES_USE_IAM_AUTH=false
DB_VAULT_POSTGRES_POOL_MIN=2
DB_VAULT_POSTGRES_POOL_MAX=10
# Use 'disable' for local docker, 'require' for production
DB_VAULT_POSTGRES_SSLMODE=disable

# =============================================================================
# External API Keys
# =============================================================================
# Noves API (transaction history)
NOVES_API_KEY=
NOVES_ASYNC_JOBS_ENABLED=false
NOVES_JOB_TIMEOUT_HOURS=4

# Tatum API (blockchain data)
TATUM_API_KEY=
TATUM_API_URL=https://api.tatum.io

# Tronscan API (TRC20 balance queries)
TRON_SCAN_API_URL=
TRON_SCAN_API_KEY=

# iofinnet Nodes RPC
IOFINNET_NODES_RPC_URL=

# Adamik API
ADAMIK_API_KEY=

# CoinGecko API (token prices)
# SDK automatically selects endpoint (pro vs demo) based on whether API key is provided
COIN_GECKO_API_KEY=
COIN_GECKO_REQUEST_TIMEOUT=5000

# Blockaid API (token scanning)
BLOCKAID_API_KEY=

# =============================================================================
# Reconciliation Worker (optional)
# =============================================================================
# Enable background worker to process reconciliation jobs
RECONCILIATION_WORKER_ENABLED=false
# Polling interval in milliseconds (default: 5000)
RECONCILIATION_POLLING_INTERVAL_MS=5000

# Reconciliation Scheduler (automatic job creation)
RECONCILIATION_SCHEDULER_ENABLED=false
# Cron schedule for automatic reconciliation (default: daily at 2am UTC)
RECONCILIATION_CRON_SCHEDULE=0 2 * * *

# =============================================================================
# Multi-Chain Wallet (for transaction signing)
# =============================================================================
MULTI_CHAIN_WALLET_APP_ID=

# =============================================================================
# Authentication
# =============================================================================
# JWKS endpoint for JWT signature verification
# Example for Cognito: https://cognito-idp.{region}.amazonaws.com/{userPoolId}/.well-known/jwks.json
AUTH_JWKS_URL=https://4bjfs6uqj5.execute-api.eu-west-1.amazonaws.com/.well-known/jwks.json

# Comma-separated list of allowed OAuth client IDs
AUTH_ALLOWED_CLIENT_IDS=
